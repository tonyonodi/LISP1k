P=function(T){t=T.shift()
if(t=="("){var L=[]
while (T[0]!=")"){L.push(P(T))}
T.shift()
return L}
return Number(t) || t}
e=function(x){if(Array.isArray(x)){var f=x.shift()
return fns[f](x.map(e));}
return x}
O=function(i){document.writeln("<br>"+i)}
fns={};
fns['+']=function(i){return i[0]+i[1]}
fns['-']=function(i){return i[0]-i[1]}
fns['*']=function(i){return i[0]*i[1]}
fns['/']=function(i){return i[0]/i[1]}
while(1) {I = window.prompt(">")
O(">"+I)
O(e(P(I.replace(/\(/g," ( ").replace(/\)/g," ) ").split(" ").filter(function(e){return e!=""})))
)}
